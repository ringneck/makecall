# ğŸ› ï¸ MAKECALL ìœ í‹¸ë¦¬í‹° ìŠ¤í¬ë¦½íŠ¸

Firebase Firestore ë°ì´í„° ê´€ë¦¬ë¥¼ ìœ„í•œ ìœ í‹¸ë¦¬í‹° ìŠ¤í¬ë¦½íŠ¸ ëª¨ìŒì…ë‹ˆë‹¤.

## ğŸ“‹ ì‚¬ì „ ì¤€ë¹„

### 1. Python íŒ¨í‚¤ì§€ ì„¤ì¹˜

```bash
pip install firebase-admin
```

### 2. Firebase Admin SDK íŒŒì¼ ì¤€ë¹„

Firebase Consoleì—ì„œ ë‹¤ìš´ë¡œë“œí•œ `firebase-admin-sdk.json` íŒŒì¼ì„ ë‹¤ìŒ ìœ„ì¹˜ ì¤‘ í•˜ë‚˜ì— ë°°ì¹˜:

- í˜„ì¬ ë””ë ‰í† ë¦¬ (`scripts/`)
- í”„ë¡œì íŠ¸ ë£¨íŠ¸ ë””ë ‰í† ë¦¬ (`makecall/`)
- í™ˆ ë””ë ‰í† ë¦¬ (`~/makecall/`)

**ë‹¤ìš´ë¡œë“œ ë°©ë²•:**
1. Firebase Console â†’ https://console.firebase.google.com/
2. í”„ë¡œì íŠ¸ ì„ íƒ
3. Project Settings (âš™ï¸) â†’ Service accounts
4. **Python** ì„ íƒ (ì¤‘ìš”!)
5. "Generate new private key" í´ë¦­
6. ë‹¤ìš´ë¡œë“œí•œ JSON íŒŒì¼ ì´ë¦„ì„ `firebase-admin-sdk.json`ìœ¼ë¡œ ë³€ê²½

---

## ğŸ§¹ cleanup_test_data.py

í…ŒìŠ¤íŠ¸ ë°ì´í„°ë¥¼ ì •ë¦¬í•˜ëŠ” ìŠ¤í¬ë¦½íŠ¸ì…ë‹ˆë‹¤.

### ê¸°ëŠ¥:
- âœ… norman@olssoo.comì˜ ëª¨ë“  FCM í† í° ë¹„í™œì„±í™”
- âœ… ëª¨ë“  ê¸°ê¸° ìŠ¹ì¸ ìš”ì²­ ì‚­ì œ
- âœ… ì•Œë¦¼ í ì •ë¦¬

### ì‚¬ìš©ë²•:

```bash
cd scripts
python3 cleanup_test_data.py
```

### ì‹¤í–‰ ê²°ê³¼ ì˜ˆì‹œ:

```
============================================================
ğŸ§¹ í…ŒìŠ¤íŠ¸ ë°ì´í„° ì •ë¦¬ ì‹œì‘
============================================================

1ï¸âƒ£ FCM í† í° ë¹„í™œì„±í™” ì¤‘...
   âœ… 4ê°œ í† í° ë¹„í™œì„±í™” ì™„ë£Œ

2ï¸âƒ£ ìŠ¹ì¸ ìš”ì²­ ì‚­ì œ ì¤‘...
   âœ… 1ê°œ ìŠ¹ì¸ ìš”ì²­ ì‚­ì œ ì™„ë£Œ

3ï¸âƒ£ ì•Œë¦¼ í ì •ë¦¬ ì¤‘...
   âœ… 0ê°œ ì•Œë¦¼ ì‚­ì œ ì™„ë£Œ

============================================================
âœ… ì •ë¦¬ ì™„ë£Œ! ì´ì œ ì²˜ìŒë¶€í„° í…ŒìŠ¤íŠ¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
============================================================
```

---

## ğŸ“Š check_firestore_state.py

Firestore ë°ì´í„° ìƒíƒœë¥¼ í™•ì¸í•˜ëŠ” ìŠ¤í¬ë¦½íŠ¸ì…ë‹ˆë‹¤.

### ê¸°ëŠ¥:
- âœ… FCM í† í° ëª©ë¡ ì¡°íšŒ (í™œì„±/ë¹„í™œì„± ìƒíƒœ)
- âœ… ê¸°ê¸° ìŠ¹ì¸ ìš”ì²­ ìƒíƒœ í™•ì¸
- âœ… ì•Œë¦¼ í ìƒíƒœ í™•ì¸

### ì‚¬ìš©ë²•:

```bash
cd scripts
python3 check_firestore_state.py
```

### ì‹¤í–‰ ê²°ê³¼ ì˜ˆì‹œ:

```
============================================================
ğŸ“Š MAKECALL Firestore ë°ì´í„° ìƒíƒœ
============================================================

1ï¸âƒ£ FCM í† í° (norman@olssoo.com):
   1. iPhone 15 Pro (iOS 26.0.1) (ios)
      - í™œì„±: True
      - í† í°: dm1Lm9bZnErijSsfqRNPcq:APA91bH...
      - ê¸°ê¸° ID: 07B3D237-B0FA-4C87-B813-C7173DF7C943
   2. samsung SM-P610 (android)
      - í™œì„±: False
      - í† í°: erasRNPZQsy6BOxGhS2rnA:APA91bH...
      - ê¸°ê¸° ID: QP1A.190711.020

2ï¸âƒ£ ê¸°ê¸° ìŠ¹ì¸ ìš”ì²­ (norman@olssoo.com):
   1. 00UZFjXMjnSj0ThUnGlgkn8cgVy2_QP1A.190711.020_android
      - ìƒíƒœ: pending
      - ìƒˆ ê¸°ê¸°: samsung SM-P610 (android)
      - ìƒì„± ì‹œê°„: 2025-01-13 03:51:31.286000+00:00

3ï¸âƒ£ ì•Œë¦¼ í:
   âœ… ì•Œë¦¼ í ë¹„ì–´ìˆìŒ (ì •ìƒ)

============================================================
```

---

## ğŸ”§ ë¬¸ì œ í•´ê²°

### Python ë²„ì „ ê²½ê³ 

```
FutureWarning: You are using a Python version (3.9.6) past its end of life
```

**í•´ê²° ë°©ë²•:** Python 3.10 ì´ìƒìœ¼ë¡œ ì—…ê·¸ë ˆì´ë“œ ê¶Œì¥ (í•˜ì§€ë§Œ 3.9ì—ì„œë„ ì‘ë™)

### OpenSSL ê²½ê³ 

```
NotOpenSSLWarning: urllib3 v2 only supports OpenSSL 1.1.1+
```

**í•´ê²° ë°©ë²•:** macOSì—ì„œ í”í•œ ê²½ê³ ì´ë©°, ê¸°ëŠ¥ì—ëŠ” ì˜í–¥ ì—†ìŒ

### Firebase Admin SDK íŒŒì¼ì„ ì°¾ì„ ìˆ˜ ì—†ìŒ

```
âŒ Firebase Admin SDK íŒŒì¼ì„ ì°¾ì„ ìˆ˜ ì—†ìŠµë‹ˆë‹¤.
```

**í•´ê²° ë°©ë²•:**
1. Firebase Consoleì—ì„œ Admin SDK íŒŒì¼ ë‹¤ìš´ë¡œë“œ
2. íŒŒì¼ëª…ì„ `firebase-admin-sdk.json`ìœ¼ë¡œ ë³€ê²½
3. ìŠ¤í¬ë¦½íŠ¸ì™€ ê°™ì€ ë””ë ‰í† ë¦¬ì— ë°°ì¹˜

---

## ğŸ“ ì£¼ì˜ì‚¬í•­

- âš ï¸ `cleanup_test_data.py`ëŠ” **ë˜ëŒë¦´ ìˆ˜ ì—†ëŠ”** ì‚­ì œ ì‘ì—…ì„ ìˆ˜í–‰í•©ë‹ˆë‹¤
- âš ï¸ í”„ë¡œë•ì…˜ í™˜ê²½ì—ì„œëŠ” ì‹ ì¤‘í•˜ê²Œ ì‚¬ìš©í•˜ì„¸ìš”
- âš ï¸ í˜„ì¬ norman@olssoo.com ê³„ì •ë§Œ ëŒ€ìƒìœ¼ë¡œ í•©ë‹ˆë‹¤

---

## ğŸ”— ê´€ë ¨ ë§í¬

- [Firebase Console](https://console.firebase.google.com/)
- [Firebase Admin SDK ë¬¸ì„œ](https://firebase.google.com/docs/admin/setup)
- [GitHub Repository](https://github.com/ringneck/makecall)
