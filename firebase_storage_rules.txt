================================================================================
Firebase Storage ë³´ì•ˆ ê·œì¹™
================================================================================

ğŸ“¦ í”„ë¡œì íŠ¸ ID: makecallio
ğŸ”— Firebase Console: https://console.firebase.google.com/project/makecallio/storage/rules

================================================================================
ë³µì‚¬í•  ë³´ì•ˆ ê·œì¹™ (ì•„ë˜ ì „ì²´ ë‚´ìš©ì„ ë³µì‚¬í•˜ì„¸ìš”)
================================================================================

rules_version = '2';
service firebase.storage {
  match /b/{bucket}/o {
    // í”„ë¡œí•„ ì´ë¯¸ì§€: ì¸ì¦ëœ ì‚¬ìš©ìë§Œ ìì‹ ì˜ ì´ë¯¸ì§€ ì—…ë¡œë“œ/ì‚­ì œ ê°€ëŠ¥
    match /profile_images/{userId}.jpg {
      allow read: if true;  // ëª¨ë“  ì‚¬ìš©ìê°€ í”„ë¡œí•„ ì´ë¯¸ì§€ ì¡°íšŒ ê°€ëŠ¥
      allow write: if request.auth != null && request.auth.uid == userId;  // ë³¸ì¸ë§Œ ì—…ë¡œë“œ/ì‚­ì œ ê°€ëŠ¥
      allow delete: if request.auth != null && request.auth.uid == userId;  // ë³¸ì¸ë§Œ ì‚­ì œ ê°€ëŠ¥
    }
    
    // ê¸°íƒ€ íŒŒì¼: ì¸ì¦ëœ ì‚¬ìš©ìë§Œ ì ‘ê·¼ ê°€ëŠ¥
    match /{allPaths=**} {
      allow read, write: if request.auth != null;
    }
  }
}

================================================================================
ì„¤ì • ë°©ë²•
================================================================================

1ë‹¨ê³„: Firebase Console ì ‘ì†
   makecallio/storage/rules

2ë‹¨ê³„: ìœ„ì˜ ë³´ì•ˆ ê·œì¹™ ë³µì‚¬
   - ìœ„ì˜ 'rules_version'ë¶€í„° ë§ˆì§€ë§‰ '}}'ê¹Œì§€ ì „ì²´ ë³µì‚¬

3ë‹¨ê³„: Firebase Consoleì— ë¶™ì—¬ë„£ê¸°
   - Storage â†’ Rules íƒ­ìœ¼ë¡œ ì´ë™
   - ê¸°ì¡´ ê·œì¹™ì„ ëª¨ë‘ ì‚­ì œí•˜ê³  ë³µì‚¬í•œ ê·œì¹™ ë¶™ì—¬ë„£ê¸°

4ë‹¨ê³„: 'ê²Œì‹œ' ë²„íŠ¼ í´ë¦­
   - ë³€ê²½ì‚¬í•­ ì €ì¥ ë° ì ìš©

================================================================================
ë³´ì•ˆ ê·œì¹™ ì„¤ëª…
================================================================================

âœ… í”„ë¡œí•„ ì´ë¯¸ì§€ (profile_images/{userId}.jpg):
   - ëª¨ë“  ì‚¬ìš©ìê°€ ì¡°íšŒ ê°€ëŠ¥ (read: if true)
   - ì¸ì¦ëœ ì‚¬ìš©ìê°€ ìì‹ ì˜ ì´ë¯¸ì§€ë§Œ ì—…ë¡œë“œ/ì‚­ì œ ê°€ëŠ¥
   - request.auth.uid == userId ì¡°ê±´ìœ¼ë¡œ ë³¸ì¸ í™•ì¸

âœ… ê¸°íƒ€ íŒŒì¼ (/{allPaths=**}):
   - ì¸ì¦ëœ ì‚¬ìš©ìë§Œ ì½ê¸°/ì“°ê¸° ê°€ëŠ¥
   - request.auth != null ì¡°ê±´

