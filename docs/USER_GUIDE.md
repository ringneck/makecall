# MakeCall 사용자 가이드

## 목차

1. [시작하기](#시작하기)
2. [주요 기능](#주요-기능)
3. [설정 방법](#설정-방법)
4. [자주 묻는 질문](#자주-묻는-질문)
5. [문제 해결](#문제-해결)

## 시작하기

### 1. 회원가입 및 로그인

1. **회원가입**
   - 앱 실행 후 "회원가입" 버튼 클릭
   - 이메일과 비밀번호 입력
   - "가입하기" 버튼 클릭

2. **로그인**
   - 이메일과 비밀번호 입력
   - "로그인" 버튼 클릭

### 2. 초기 설정

로그인 후 프로필 탭에서 다음 설정을 완료하세요:

#### 회사 정보 설정
1. 프로필 탭 → "회사 / API 설정" 클릭
2. 회사명 입력
3. "저장" 버튼 클릭

#### API 서버 설정
1. API Base URL 입력 (예: `api.example.com`)
2. Company ID 입력
3. App Key 입력
4. "저장" 버튼 클릭

**참고**: HTTP(3500), HTTPS(3501) 포트는 자동으로 설정됩니다.

### 3. 단말번호 등록

단말번호는 통화 기능 사용에 필수입니다.

#### 자동 초기화 (2024-11-04 업데이트)

**✨ 새로운 기능**: 로그인하면 단말번호가 자동으로 초기화됩니다!

- 로그인 후 별도의 설정 없이 바로 클릭투콜 사용 가능
- 첫 번째 등록된 단말번호가 자동으로 선택됨
- ExtensionDrawer를 수동으로 열 필요 없음

#### 단말번호 조회 및 등록

1. 프로필 탭 → 왼쪽 상단 프로필 아이콘 클릭
2. "단말번호 조회" 버튼 클릭
3. 서버에서 단말번호 목록 불러오기
4. 원하는 단말번호 옆 "저장" 버튼 클릭

**제한사항**: 관리자가 설정한 개수만큼만 저장 가능합니다.

## 주요 기능

### 1. 홈 탭

- 회사명 표시
- 사용자 전화번호 표시
- 빠른 통계 확인

### 2. 통화 탭

#### 키패드 (기본 화면)
- 전화번호 직접 입력
- 클릭투콜 기능
- 통화 기록 확인

**✨ 클릭투콜 사용 방법**:
1. 로그인 (단말번호 자동 초기화)
2. 통화 탭 이동
3. 전화번호 입력
4. 통화 버튼 클릭

**이전 버전과의 차이점**:
- ❌ 이전: 로그인 → ExtensionDrawer 열기 → 단말번호 선택 → 클릭투콜
- ✅ 현재: 로그인 → 바로 클릭투콜 사용 가능!

#### 단말번호 연락처
- 단말번호 목록 조회
- Feature Codes 표시
- 빠른 통화

### 3. 전화번호부 탭

#### Firebase 연락처
- 클라우드 저장 연락처
- 모든 기기에서 동기화
- 연락처 추가/수정/삭제

#### 기기 연락처
- 스마트폰에 저장된 연락처
- 읽기 전용 (앱에서 수정 불가)
- 빠른 검색 및 통화

### 4. 프로필 탭

#### 프로필 정보
- 프로필 사진 변경
- 전화번호 설정
- 계정 정보 표시

#### 단말번호 관리
- 등록된 단말번호 목록
- 단말번호 추가/삭제
- 저장 제한 확인

#### 설정
- 회사 정보 관리
- API 서버 설정
- 로그아웃

## 설정 방법

### 단말번호 변경하기

등록된 단말번호가 여러 개인 경우:

1. **방법 1: ExtensionDrawer 사용**
   - 오른쪽 상단 단말번호 아이콘 클릭
   - ExtensionDrawer 열기
   - 원하는 단말번호로 좌우 스와이프

2. **방법 2: 자동 선택**
   - 로그인 시 첫 번째 단말번호 자동 선택
   - 별도 설정 불필요

### 프로필 사진 변경하기

1. 프로필 탭 이동
2. 프로필 사진 클릭
3. "카메라로 촬영" 또는 "갤러리에서 선택"
4. 사진 선택 후 업로드

**참고**: 
- 지원 형식: JPG, PNG
- 자동 압축 처리
- 클라우드 저장 (모든 기기에서 동기화)

### 연락처 추가하기

#### Firebase 연락처 추가

1. 전화번호부 탭 → Firebase 연락처
2. 우측 하단 "+" 버튼 클릭
3. 연락처 정보 입력:
   - 이름 (필수)
   - 전화번호 (필수)
   - 이메일 (선택)
   - 회사 (선택)
   - 직책 (선택)
   - 메모 (선택)
4. "저장" 버튼 클릭

#### 기기 연락처 사용

- 별도 추가 불필요
- 스마트폰 연락처 자동 연동
- 읽기 전용

## 자주 묻는 질문

### Q1. 로그인 후 "선택된 단말번호가 없습니다" 오류가 발생합니다.

**A**: 이 문제는 2024-11-04 업데이트로 해결되었습니다. 최신 버전으로 업데이트하면:
- 로그인 시 단말번호 자동 초기화
- ExtensionDrawer를 열지 않아도 클릭투콜 즉시 사용 가능

만약 여전히 오류가 발생한다면:
1. 프로필 탭에서 단말번호가 등록되어 있는지 확인
2. 단말번호 조회 및 저장
3. 앱 재시작

### Q2. 단말번호를 더 저장하고 싶은데 제한이 있습니다.

**A**: 단말번호 저장 개수는 관리자가 설정합니다. 
- 현재 저장 가능 개수는 프로필 탭에서 확인 가능
- 개수 증가가 필요한 경우 관리자에게 문의

### Q3. 프로필 사진이 업로드되지 않습니다.

**A**: 다음을 확인하세요:
1. 인터넷 연결 상태
2. 카메라/갤러리 접근 권한
3. 파일 크기 (너무 큰 파일은 시간이 오래 걸릴 수 있음)

iOS에서 문제가 발생한다면:
- 설정 → 개인정보 보호 → 사진 → MakeCall 권한 확인

### Q4. 기기 연락처가 표시되지 않습니다.

**A**: 연락처 접근 권한을 확인하세요:

**Android:**
- 설정 → 앱 → MakeCall → 권한 → 연락처 허용

**iOS:**
- 설정 → 개인정보 보호 → 연락처 → MakeCall 허용

권한 허용 후 앱을 재시작하세요.

### Q5. 통화 이력이 표시되지 않습니다.

**A**: 통화 이력은 다음 조건에서 기록됩니다:
- 클릭투콜 기능 사용 시
- PBX 시스템과 정상 연동된 상태
- API 설정이 올바르게 구성된 경우

### Q6. 여러 기기에서 사용 가능한가요?

**A**: 네, 가능합니다!
- Firebase 연락처: 모든 기기 자동 동기화
- 프로필 사진: 모든 기기 자동 동기화
- 설정 정보: 모든 기기 자동 동기화
- 기기 연락처: 각 기기별 독립적

## 문제 해결

### 로그인 문제

**증상**: 로그인이 되지 않습니다.

**해결 방법**:
1. 이메일/비밀번호 확인
2. 인터넷 연결 확인
3. 비밀번호 재설정 시도
4. 앱 재설치

### 단말번호 초기화 문제

**증상**: 로그인 후에도 단말번호가 선택되지 않습니다.

**해결 방법**:
1. 프로필 탭에서 단말번호 등록 상태 확인
2. 단말번호가 없다면 조회 및 저장
3. 앱 재시작
4. ExtensionDrawer를 열어 수동 선택

**디버그 로그 확인** (개발자 모드):
```
🔄 단말번호 자동 초기화 시작...
✅ 단말번호 자동 초기화 완료: 1234
```

### API 연결 문제

**증상**: "API 서버에 연결할 수 없습니다" 오류

**해결 방법**:
1. 프로필 탭 → 회사 / API 설정 확인
2. API Base URL이 올바른지 확인
3. Company ID와 App Key 확인
4. 네트워크 연결 상태 확인
5. 서버 관리자에게 문의

### 성능 문제

**증상**: 앱이 느리게 동작합니다.

**해결 방법**:
1. 앱 재시작
2. 기기 재부팅
3. 앱 캐시 삭제
4. 최신 버전으로 업데이트

### 권한 문제

**증상**: 특정 기능이 작동하지 않습니다.

**해결 방법**:
1. 기기 설정 → 앱 권한 확인
2. 필요한 권한 모두 허용
3. 앱 재시작

**필요한 권한**:
- 연락처: 기기 연락처 읽기
- 카메라: 사진 촬영
- 갤러리: 사진 선택
- 저장소: 파일 저장 (Android)
- 전화: 통화 기능

## 추가 지원

문제가 지속되거나 추가 도움이 필요한 경우:
- GitHub Issues를 통해 문의
- 상세한 오류 메시지 및 스크린샷 제공
- 기기 정보 및 앱 버전 명시

## 최신 업데이트 정보

### 2024-11-04 업데이트

**주요 개선사항**:
- ✅ 로그인 후 단말번호 자동 초기화
- ✅ 클릭투콜 즉시 사용 가능
- ✅ 초기화 과정 최적화
- ✅ 사용자 경험 대폭 개선

**사용 방법 변경**:
```
이전: 로그인 → ExtensionDrawer → 단말번호 선택 → 클릭투콜
현재: 로그인 → 즉시 클릭투콜 사용 가능! ⚡
```

---

**앱 버전**: 1.2.0  
**문서 업데이트**: 2024-11-04
